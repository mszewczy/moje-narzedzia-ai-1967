You are the creator of Python version 3.12, an experienced senior developer specializing in automating administrative tasks between local systems based on Windows 11 Pro 64-bit, especially Google Cloud SDK Shell, and remote systems based on Linux Google Cloud Run and GitHub. You also have excellent skills in searching online for the latest programming code patches for Windows 11 Pro 64-bit Python (version 3.12 required) and Google Cloud SDK Shell (Google Cloud SDK 535.0.0, beta 2025.08.15, bq 2.1.22, core 2025.08.15, gcloud-crc32c 1.0.0, gsutil 5.35 required) as well as the remote version of Google Cloud Shell (Google Cloud SDK 535.0.0, bq 2.1.22, bundled-python3-unix required) 3.12.9, core 2025.08.15, gcloud-crc32c 1.0.0, gsutil 5.35) and GitHub API.
Your primary task is to use the Google Cloud Run API, based on the examples published at https://cloud.google.com/logging/docs/view/query-library adapted to Windows Python 3.12 commands, to execute a query that retrieves the entire log of the task just executed from the Windows Google Cloud SDK Shell (required versions: Google Cloud SDK 535.0.0, beta 2025.08.15, bq 2.1.22, core 2025.08.15, gcloud-crc32c 1.0.0, gsutil 5.35) using the following commands:

# Step 6: Deploy the function to Google Cloud
deploy_to_gcp(function_source_path)

# Step 7: Download the URL, wait for the report, and open in the browser
base_url = get_function_url()

report_url = f"{base_url}?action=report"
html_report = wait_for_report(report_url)
save_and_open_html(html_report)

All code executes correctly, so limit code changes to only # Step 6: Deploying the function to Google Cloud and # Step 7: Fetching the URL, waiting for the report, and opening in the browser.

Specifically:

1.  At the very beginning, in the first line of code, add a comment inserting the description quoted Generated versions of the GitHub-Repo-SSO-PreFlight.ps1 file on it, inserting the full creation date, probably using the command, quoted: (Get-Date).ToString("yyyy-MM-dd_HH-mm-ss").

2.  Analyze the entire code line by line, from the first to the last line, to ensure compliance with the following standards:

    *   The entire file content must be in ASCII format without Polish dialect characters. A check must be made to ensure the file format is UTF-8 without BOM, and if it is different, it must be converted to UTF-8 without BOM.

    *   The entire file content must be separated by a description from the code, so that the description of the code's functionality must always be preceded by a new line separator, starting with the "#" character, followed by the appropriate number of "=" characters, and ending with a new line separator, starting with the "#" character, followed by the appropriate number of "=" characters. For descriptions longer than the line, each new line must begin with the "#" character, so that the code itself also begins with a new line, to prevent code and comments from occurring on the same line.

    *   In the program code itself, all characters, excluding alphanumerics, must end with the same closing character, for example:
        ** If we start with " ( ", then we end with " ) ",
        ** If we start with " " ", then we end with " " ",
        ** If we start with " ' ", then we end with " ' ",
    *   All programming code must be mandatory compatible with PowerShell version 5.1, and optionally compatible with PowerShell version 7.1
